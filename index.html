<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>ç™»å…¥é©—è­‰é </title>
  <style>
    body { font-family: sans-serif; margin: 40px; }
    label, input { display: block; margin-bottom: 10px; }
    #info-box { margin-top: 20px; white-space: pre-wrap; }
  </style>
</head>
<body>
  <h2>ğŸ” ç™»å…¥é é¢</h2>
  <form id="login-form">
    <label>å¸³è™Ÿï¼š<input type="text" id="username" required></label>
    <label>å¯†ç¢¼ï¼š<input type="password" id="password" required></label>
    <button type="submit">ç™»å…¥</button>
  </form>

  <div id="info-box"></div>

  <script>
    document.getElementById("login-form").addEventListener("submit", async function (e) {
      e.preventDefault();

      const username = document.getElementById("username").value.trim();
      const password = document.getElementById("password").value.trim();

      if (!username || !password) return alert("è«‹è¼¸å…¥å¸³è™Ÿå¯†ç¢¼");

      // å‡è¨­å¯†ç¢¼é©—è­‰é€šéï¼ŒåŸ·è¡Œè£ç½®è³‡æ–™æ”¶é›†
      const data = {
        username,
        userAgent: navigator.userAgent,
        referrer: document.referrer || "None",
        language: navigator.language,
        platform: navigator.platform,
        resolution: `${screen.width}x${screen.height}`,
        timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
        cores: navigator.hardwareConcurrency?.toString() || "unknown"
      };

      const res = await fetch("/api/forward", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data)
      });

      const result = await res.json();
      const box = document.getElementById("info-box");
      box.innerText =
        `ç™»å…¥è€…ï¼š${result.username}\n` +
        `IPï¼š${result.ip}\n` +
        `User-Agentï¼š${result.userAgent}\n` +
        `Platformï¼š${result.platform}\n` +
        `Resolutionï¼š${result.resolution}\n` +
        `Languageï¼š${result.language}\n` +
        `Timezoneï¼š${result.timezone}\n` +
        `CPU Coresï¼š${result.cores}\n` +
        `æ™‚é–“ï¼š${result.timestamp}`;
    });
  </script>
</body>
</html>
